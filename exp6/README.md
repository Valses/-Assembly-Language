##实验目的与要求

(1) 掌握中断矢量表的概念；

(2）熟悉I/O访问，BIOS功能调用方法；

(3) 掌握实方式下中断处理程序的编制与调试方法。

##实验内容

任务1：用三种方式获取中断类型码10H对应的中断处理程序的入口地址。

要求：首先要进入虚拟机状态，然后

（1） 直接运行调试工具（TD.EXE），观察中断矢量表中的信息。

（2） 编写程序，用 DOS系统功能调用方式获取，观察功能调用相应的出口参数与“（1）”看到的结果是否相同 （使用TD观看出口参数即可）。

（3） 编写程序，直接读取相应内存单元，观察读到的数据与“（1）”看到的结果是否相同 （使用TD观看程序的执行结果即可）。

任务2：编写一个接管键盘中断的中断服务程序并驻留内存，要求在程序返回DOS操作系统后，键盘的按键A变成了按键B，而B变成了A。

要求：

（1）在 DOS虚拟机或DOS窗口下执行程序，中断服务程序驻留内存。

（2）在DOS命令行下按键A，屏幕显示为B，按B时屏幕显示为A。

（3）编写一个小程序，分别使用 1号功能调用和10号功能调用，输入字符和字符串，观察运行键盘中断驻留程序之前运行本测试程序的结果；以及执行键盘中断驻留程序之后运行本测试程序的结果。

（4）执行TD，在代码区输入指令“MOV AX,0”看是否能发生变化。

（5）选作：另外编写一个中断服务程序的卸载程序，将键盘中断服务程序恢复到原来的状态（也就是还原中断矢量表的信息）。

任务3：读取CMOS内指定单元的信息，按照16进制形式显示在屏幕上。

要求：

（1）先输入待读取的CMOS内部单元的地址编号（可以只处理编号小于10的地址单元）。再使用IN/OUT指令，读取CMOS内的指定单元的信息。

（2）将读取的信息用16进制的形式显示在屏幕上。若是时间信息，可以人工判断一下是否正确。
